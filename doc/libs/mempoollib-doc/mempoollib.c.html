<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>			mempoollib.c</title>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
	</head>
	<body style="background-color:#dddddd;">
		<h1>			mempoollib.c</h1>
		<div style="padding-left: 40px;">
					Ihsoh, 			2015-05-08
		</div>
		<br />
		<br />
		<br />
		<br />
		<div>
			<h2>文件描述</h2>
			<div style="padding-left: 40px;">
						内存池。<br />
			</div>
			<br />
			<br />
			<br />
			<br />
		</div>
		<div>
			<h2>函数</h2>
			<div>
				<div>
	<a id="mempooll_init" name="mempooll_init" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Public</div>
		<div style="float:left; margin-left:20px;">mempooll_init</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				初始化内存池库。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		env</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLEnvironmentPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			指向内存池环境的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_shift" name="mempooll_shift" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Private</div>
		<div style="float:left; margin-left:20px;">mempooll_shift</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				从MEMPOOLLLinkedList的头部弹出一个MEMPOOLLBlock。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		list</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLLinkedListPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLLinkedList的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		MEMPOOLLBlockPtr</span>
		<p style="padding-left: 40px;">			如果成功弹出一个MEMPOOLLBlock，则返回指向该MEMPOOLLBlock的指针。
			否则返回NULL。
</p>
	</div>
</div>
<div>
	<a id="mempooll_unshift" name="mempooll_unshift" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Private</div>
		<div style="float:left; margin-left:20px;">mempooll_unshift</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				在MEMPOOLLLinkedList的头部压入一个MEMPOOLLBlock。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		list</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLLinkedListPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLLinkedList的指针。
</p>
</div>
<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		block</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLBlockPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLBlock的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_remove" name="mempooll_remove" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Private</div>
		<div style="float:left; margin-left:20px;">mempooll_remove</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				从MEMPOOLLLinkedList移除一个MEMPOOLLBlock。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		list</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLLinkedListPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLLinkedList的指针。
</p>
</div>
<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		block</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLBlockPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLBlock的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_mem_list_add" name="mempooll_mem_list_add" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Private</div>
		<div style="float:left; margin-left:20px;">mempooll_mem_list_add</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				向pool->mem_list添加指针。<br />		这些指针是由于需要填充free列表而分配的内存块的指针。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		pool</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLPoolPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLPool的指针。
</p>
</div>
<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		ptr</span>,
	<span style="color:#428cc7; font-weight:blod;"> void *</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_fill_free_list" name="mempooll_fill_free_list" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Private</div>
		<div style="float:left; margin-left:20px;">mempooll_fill_free_list</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				填充MEMPOOLLPool中由index指定的MEMPOOLLList。<br />		index=0时，填充pool->list[0]。4Bytes的MEMPOOLLList。<br />		index=1时，填充pool->list[1]。8Bytes的MEMPOOLLList。<br />		...<br />		index=15时，填充pool->list[15]。8KB的MEMPOOLLList。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		pool</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLPoolPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLPool的指针。
</p>
</div>
<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		index</span>,
	<span style="color:#428cc7; font-weight:blod;"> uint32</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			指定MEMPOOLLList的索引。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_get_index_by_size" name="mempooll_get_index_by_size" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Private</div>
		<div style="float:left; margin-left:20px;">mempooll_get_index_by_size</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				获取size所对应的index。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		size</span>,
	<span style="color:#428cc7; font-weight:blod;"> uint32</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			需要分配内存尺寸。
			该函数会根据这个需要分配内存尺寸返回相应的index值。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		uint32</span>
		<p style="padding-left: 40px;">			返回与size相对应的index值。
			如果返回0xffffffff则表示size过大，无法从内存池的MEMPOOLLList中获取内存块。
			需要直接调用mempooll_malloc或mempooll_calloc分配内存。
</p>
	</div>
</div>
<div>
	<a id="mempooll_init_pool" name="mempooll_init_pool" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Public</div>
		<div style="float:left; margin-left:20px;">mempooll_init_pool</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				初始化MEMPOOLLPool对象。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		pool</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLPoolPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向需要初始化的MEMPOOLLPool对象的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_alloc_memory" name="mempooll_alloc_memory" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Public</div>
		<div style="float:left; margin-left:20px;">mempooll_alloc_memory</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				从内存池中分配内存块。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		pool</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLPoolPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLPool对象的指针。
</p>
</div>
<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		size</span>,
	<span style="color:#428cc7; font-weight:blod;"> uint32</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			需要分配的尺寸。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		void *</span>
		<p style="padding-left: 40px;">			成功返回内存块的指针，否则返回NULL。
</p>
	</div>
</div>
<div>
	<a id="mempooll_free_memory" name="mempooll_free_memory" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Public</div>
		<div style="float:left; margin-left:20px;">mempooll_free_memory</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				释放由内存池分配的内存块。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		pool</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLPoolPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLPool对象的指针。
</p>
</div>
<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		ptr</span>,
	<span style="color:#428cc7; font-weight:blod;"> void *</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			指向需要释放的内存块的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_free_pool" name="mempooll_free_pool" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Public</div>
		<div style="float:left; margin-left:20px;">mempooll_free_pool</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				释放内存池中的所有内存块。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		pool</span>,
	<span style="color:#428cc7; font-weight:blod;"> MEMPOOLLPoolPtr</span>,
	<span style="color:#e85266; font-weight:blod;"> IN OUT</span>
	<p style="padding-left: 40px;">			指向MEMPOOLLPool对象的指针。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		BOOL</span>
		<p style="padding-left: 40px;">			返回TRUE则成功，否则失败。
</p>
	</div>
</div>
<div>
	<a id="mempooll_size" name="mempooll_size" />
	<h3 style="background-color:#aaaaaa; line-height:40px; padding-left:20px;">
		<div style="float:left; color:blue;">		Public</div>
		<div style="float:left; margin-left:20px;">mempooll_size</div>
		<br style="clear:both;" />
	</h3>

	<h4>函数描述</h4>
	<hr />
	<p style="padding-left:40px;">
				获取index对应的尺寸。<br />
	</p>

	<h4>参数描述</h4>
	<hr />
	<div>
		<div style="padding-left: 40px;">
	<span style="color:#b55539; font-weight:blod;">		index</span>,
	<span style="color:#428cc7; font-weight:blod;"> uint32</span>,
	<span style="color:#e85266; font-weight:blod;"> IN</span>
	<p style="padding-left: 40px;">			对应尺寸的index。
</p>
</div>

	</div>

	<h4>返回值描述</h4>
	<hr />
	<div style="padding-left: 40px;">
		<span style="color:#428cc7; font-weight:blod;">		uint32</span>
		<p style="padding-left: 40px;">			尺寸。如果返回0则代表无法获取内存尺寸。
</p>
	</div>
</div>

			</div>
		</div>
	</body>
</html>
